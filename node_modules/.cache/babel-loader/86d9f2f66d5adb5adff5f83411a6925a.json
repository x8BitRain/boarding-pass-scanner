{"ast":null,"code":"import _regeneratorRuntime from\"/home/mint/ticket2calendar/node_modules/@babel/runtime/regenerator\";import _classCallCheck from\"/home/mint/ticket2calendar/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/mint/ticket2calendar/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/mint/ticket2calendar/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/mint/ticket2calendar/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/mint/ticket2calendar/node_modules/@babel/runtime/helpers/esm/inherits\";import React from\"react\";import{parseBCBP}from'bcbp-parser';import Results from\"./results.jsx\";var assssss={};var Capture=/*#__PURE__*/function(_React$Component){_inherits(Capture,_React$Component);function Capture(props){var _this;_classCallCheck(this,Capture);_this=_possibleConstructorReturn(this,_getPrototypeOf(Capture).call(this,props));_this.thing=function(e){console.log(_this.state.result_string);console.log(_this.state.bcbp_result);};_this.state={result_string:null,bcbp_result:{}};return _this;}_createClass(Capture,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;document.getElementById(\"pcCanvas\").remove();document.getElementById(\"mobileCanvas\").remove();var w=new Worker(\"result_check.js\");setTimeout(function _callee(){return _regeneratorRuntime.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:window.scanBarcode();case 1:case\"end\":return _context.stop();}}});},1000);w.onmessage=function(){console.log(_this2.state.result_string);if(localStorage.barcode){_this2.setState({result_string:localStorage.barcode},function(){localStorage.clear();w.terminate();console.log(_this2.state.result_string);_this2.setState({bcbp_result:parseBCBP(_this2.state.result_string)},function(){console.log(_this2.state.bcbp_result);assssss=_this2.state.bcbp_result;});});}};}// detect = () => {\n//   this.setState({ result_string:window.string_result }, () => {\n//     console.log(this.state.result_string);\n//     console.log(parseBCBP(this.state.result_string))\n//   });\n// };\n},{key:\"render\",value:function render(){return React.createElement(\"div\",null,React.createElement(\"h3\",{id:\"headtxt\"},\"Scan a boarding pass that looks like this or this.\"),this.state.bcbp_result?React.createElement(Results,{values:this.state.bcbp_result}):null);}}]);return Capture;}(React.Component);// {this.state.bcbp_result ? <Results results={} /> : null}\nexport{Capture as default};","map":{"version":3,"sources":["/home/mint/ticket2calendar/src/components/capture.jsx"],"names":["React","parseBCBP","Results","assssss","Capture","props","thing","e","console","log","state","result_string","bcbp_result","document","getElementById","remove","w","Worker","setTimeout","window","scanBarcode","onmessage","localStorage","barcode","setState","clear","terminate","Component"],"mappings":"mpBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,SAAT,KAA0B,aAA1B,CACA,MAAOC,CAAAA,OAAP,KAAoB,eAApB,CACA,GAAIC,CAAAA,OAAO,CAAG,EAAd,C,GACqBC,CAAAA,O,6EACnB,iBAAYC,KAAZ,CAAmB,yCACjB,yEAAMA,KAAN,GADiB,MAuCnBC,KAvCmB,CAuCX,SAACC,CAAD,CAAO,CACbC,OAAO,CAACC,GAAR,CAAY,MAAKC,KAAL,CAAWC,aAAvB,EACAH,OAAO,CAACC,GAAR,CAAY,MAAKC,KAAL,CAAWE,WAAvB,EACD,CA1CkB,CAEjB,MAAKF,KAAL,CAAa,CACXC,aAAa,CAAE,IADJ,CAEXC,WAAW,CAAE,EAFF,CAAb,CAFiB,aAMlB,C,iFACmB,iBAClBC,QAAQ,CAACC,cAAT,CAAwB,UAAxB,EAAoCC,MAApC,GACAF,QAAQ,CAACC,cAAT,CAAwB,cAAxB,EAAwCC,MAAxC,GACA,GAAIC,CAAAA,CAAC,CAAG,GAAIC,CAAAA,MAAJ,CAAW,iBAAX,CAAR,CACAC,UAAU,CAAC,oIAAkBC,MAAM,CAACC,WAAP,GAAlB,8CAAD,CAA2C,IAA3C,CAAV,CACAJ,CAAC,CAACK,SAAF,CAAc,UAAM,CAClBb,OAAO,CAACC,GAAR,CAAY,MAAI,CAACC,KAAL,CAAWC,aAAvB,EACA,GAAIW,YAAY,CAACC,OAAjB,CAA0B,CACxB,MAAI,CAACC,QAAL,CAAc,CACZb,aAAa,CAAEW,YAAY,CAACC,OADhB,CAAd,CAEG,UAAK,CACND,YAAY,CAACG,KAAb,GACAT,CAAC,CAACU,SAAF,GACAlB,OAAO,CAACC,GAAR,CAAY,MAAI,CAACC,KAAL,CAAWC,aAAvB,EACA,MAAI,CAACa,QAAL,CAAc,CACZZ,WAAW,CAAEX,SAAS,CAAC,MAAI,CAACS,KAAL,CAAWC,aAAZ,CADV,CAAd,CAEG,UAAI,CACLH,OAAO,CAACC,GAAR,CAAY,MAAI,CAACC,KAAL,CAAWE,WAAvB,EACAT,OAAO,CAAG,MAAI,CAACO,KAAL,CAAWE,WAArB,CACD,CALD,EAMD,CAZD,EAaD,CACF,CAjBD,CAkBD,CAED;AACA;AACA;AACA;AACA;AACA;uCAOU,CACR,MACE,gCAEE,0BAAI,EAAE,CAAC,SAAP,uDAFF,CAGG,KAAKF,KAAL,CAAWE,WAAX,CACG,oBAAC,OAAD,EAAS,MAAM,CAAE,KAAKF,KAAL,CAAWE,WAA5B,EADH,CAEE,IALL,CADF,CASD,C,qBAvDkCZ,KAAK,CAAC2B,S,EA0DnC;OA1DavB,O","sourcesContent":["import React from \"react\";\nimport { parseBCBP } from 'bcbp-parser';\nimport Results from \"./results.jsx\"\nlet assssss = {}\nexport default class Capture extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      result_string: null, \n      bcbp_result: {}\n    }\n  }\n  componentDidMount() {\n    document.getElementById(\"pcCanvas\").remove();\n    document.getElementById(\"mobileCanvas\").remove();\n    let w = new Worker(\"result_check.js\");\n    setTimeout(async function(){ window.scanBarcode() }, 1000);\n    w.onmessage = () => {\n      console.log(this.state.result_string)\n      if (localStorage.barcode) {\n        this.setState({\n          result_string: localStorage.barcode\n        }, ()=> {\n          localStorage.clear();\n          w.terminate();\n          console.log(this.state.result_string);\n          this.setState({\n            bcbp_result: parseBCBP(this.state.result_string)\n          }, ()=>{\n            console.log(this.state.bcbp_result);\n            assssss = this.state.bcbp_result\n          });\n        });\n      }\n    };\n  }\n\n  // detect = () => {\n  //   this.setState({ result_string:window.string_result }, () => {\n  //     console.log(this.state.result_string);\n  //     console.log(parseBCBP(this.state.result_string))\n  //   });\n  // };\n\n  thing = (e) => {\n    console.log(this.state.result_string);\n    console.log(this.state.bcbp_result);\n  }\n\n   render() {\n    return (\n      <div>\n        \n        <h3 id=\"headtxt\">Scan a boarding pass that looks like this or this.</h3>\n        {this.state.bcbp_result ? \n            <Results values={this.state.bcbp_result} />\n         : null}\n      </div>\n    );\n  }\n}\n\n        // {this.state.bcbp_result ? <Results results={} /> : null}\n"]},"metadata":{},"sourceType":"module"}